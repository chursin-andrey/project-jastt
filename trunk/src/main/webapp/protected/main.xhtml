<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"      
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="/templates/commonLayout.xhtml">
	
	<ui:define name="content">
	<h:form id="form">

	<h:panelGrid columns="4" width="1040"  cellspacing="20">
		<h:outputLabel value="Project:" ><br /><br />
			<h:selectOneMenu value="#{reportBean.project_name}" style="width:200px;">
			    
   				<f:selectItems var="project" value="#{reportBean.projects}" itemValue="#{project.name} " itemLabel="#{project.name} " />
   				<f:ajax listener="#{reportBean.changeProject}" render="issue" />
			</h:selectOneMenu>
		</h:outputLabel>

		<h:outputLabel value="Task:" ><br /><br />
			<h:selectOneMenu id="issue"  value="#{reportBean.issue_key}" onchange="submit" immediate="true"  style="width:200px;">
				<f:selectItems var="issue" value="#{reportBean.issues}" itemValue="0" itemLabel="" />
   				<f:selectItems var="issue" value="#{reportBean.issues}" itemValue="#{issue.key}" itemLabel="#{issue.key}" />
			<f:ajax listener="#{reportBean.changeIssue}" render="assignee" />
			</h:selectOneMenu>
		</h:outputLabel>

		<h:outputLabel value="Member:" ><br /><br />
			<h:selectOneMenu id="assignee"  value="#{reportBean.assignee_name}" style="width:200px;">
   				<f:selectItems var="assignee" value="#{reportBean.assignees}" itemValue="#{assignee.name} " itemLabel="#{assignee.name} " />
			</h:selectOneMenu>
		</h:outputLabel>

		<h:commandButton value="Add" action="result" style="width:150px;"/>
		</h:panelGrid>
	
		<h:panelGrid columns="5" width="1040"  cellspacing="20">


		<h:commandButton value="Clear" action="result" style="width:150px;"/>
	</h:panelGrid>
	<h:panelGrid columns="3" width="400"  cellspacing="20">
	<h:commandButton value="Show" update="Report" action="#{reportBean.updateReport()}" style="width:100px;"/>
	<h:commandButton value="Cancel" action="cancel" style="width:100px;"/>
	<h:commandButton value="Update" action="update" style="width:100px;"/>
	</h:panelGrid>
	
	
		<p:tabView activeIndex="0">
			<p:tab title="Details">
       			 <p:panel id="panel1" header="Details" value="Heder">
					<p:dataTable var="details" id="Details" lazy="true">
						<f:facet name="header">Total Elapsed Time              
           					<p:commandButton id="toggler" type="button" value="Column" style="float:right" icon="ui-icon-calculator"/>
    						<p:column datasource="Details" trigger="toggler"/>
                			<p:outputPanel>
                				<h:outputText value="hours:"/> 
		        				<p:inputText id="globalFilter1" onkeyup="PF('Details').filter()" style="width:250px" placeholder="hours"/>
                    			<h:outputText value="	minuts:"/>
                    			<p:inputText id="globalFilter2" onkeyup="PF('Detailse').filter()" style="width:250px" placeholder="minuts"/>
                			</p:outputPanel>            
            			</f:facet>
            			<p:column headerText="Date"/>
						<p:column headerText="Member"/>
						<p:column headerText="Project"/>
						<p:column headerText="Task"/>
						<p:column headerText="Status"/>
						<p:column headerText="Summary"/>
						<p:column headerText="Hours"/>
					</p:dataTable>
				</p:panel>
			</p:tab>
        	<p:tab title="Report">        
        		<p:panel id="panel2" header="Report" value="Heder" autoUpdate="true">
					<p:dataTable var="report" value="#{reportBean.projects_t}" id="Report" lazy="true">
						<f:facet name="header">Total Elapsed Time              
                			<p:commandButton id="toggler" type="button" value="Column" style="float:right" icon="ui-icon-calculator"/>
                			<p:column datasource="Report" trigger="toggler"/>
               				<p:outputPanel>
                    			<h:outputText value="hours:"/> 
                    			<p:inputText id="globalFilter1" onkeyup="PF('Report').filter()" style="width:250px" placeholder="hours"/>
                    			<h:outputText value="	minuts:"/>
                    			<p:inputText id="globalFilter2" onkeyup="PF('Report').filter()" style="width:250px" placeholder="minuts"/>
                			</p:outputPanel>
                		</f:facet>
						<p:column headerText="Member">
					
							

               			 </p:column>
						<p:column headerText="Project">
						<h:outputText  value="#{report.name}"  />

               			 </p:column>
						<p:column headerText="Task"/>
						<p:column headerText="Hours"/>
					</p:dataTable>
				</p:panel>
        	</p:tab>
    	</p:tabView>	
</h:form>
	</ui:define>
</ui:composition>    