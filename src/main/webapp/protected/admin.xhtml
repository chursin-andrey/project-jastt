<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"      
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="/templates/commonLayout.xhtml">
	
	<ui:define name="content">
		<h:form>
			<div align="left">
				<h:panelGrid>
					<p:commandButton value="Add User" type="button" onclick="PF('dlgCreateAccount').show();" action="#{authBean.addUser()}" />
				</h:panelGrid>
				
				<p:dialog header="Create User Account" widgetVar="dlgCreateAccount" modal="true" minHeight="600">
					<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
						<p:outputLabel for="name" value="Name:" />
						<p:inputText id="name" required="true" />
						<p:outputLabel for="login" value="Login:"/>
						<p:inputText id="login" required="true" />
						
						<p:outputLabel for="pwd1" value="Password:" />
						<p:password id="pwd1" match="pwd2" required="true" />
						<p:outputLabel for="pwd2" value="Retype Password:" />
						<p:password id="pwd2" match="pwd1" required="true" />
										
						<p:outputLabel for="url" value="URL:" />
						<p:inputMask id="url" mask="https://" required="true" />
						<p:outputLabel for="userRole" value="User Role:" />
									
						<p:selectOneMenu id="userRole" value="User Role:" style="width:125px" required="true" >
   							<f:selectItem id="userIndex" itemLabel="User" itemValue="User" />
   							<f:selectItem id="adminIndex" itemValue="Admin" itemLabel="Admin" />
						</p:selectOneMenu>
						
						<p:commandButton value="Save" id="saveUser" icon="ui-icon-disk" />
						<p:commandButton value="Cancel" id="cancelEditing" />
					</h:panelGrid>									
				</p:dialog>
				
				<p:spacer height="10" />
				
				<p:dataTable var="user" value="#{userListBean.users}">
    				
    				
    				<p:column headerText="Login">
    					<h:outputText value="#{user.login}" />
    				</p:column>
    				
    				<p:column headerText="Name">
    					<h:outputText value="#{user.firstName}" />
    				</p:column>
    				
    				<p:column headerText="">
        				<p:commandLink value="Edit" style="margin:  5px"/>
        				<p:commandLink value="Delete" style="margin:  5px"/>
    				</p:column>
 
    				<!--  <p:column headerText="Role">
    					<h:outputText value="admin" />
    				</p:column>
 
    				<p:column headerText="">
        				<p:commandButton value="Edit" />
        				<p:commandButton value="Delete" />
    				</p:column>	-->
				</p:dataTable>
				
			</div>
		</h:form>
	</ui:define>
</ui:composition>    